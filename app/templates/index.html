<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
	<br>

	<center>
		<form action="/submit" id="textform" method="post">
			<!-- <input type="number" name="speciesId" placeholder="Species Id"> -->
			<label for="speciesId">Choose your Fish:</label>
			<select name="speciesId" id="speciesId" form="textform">
				<option value="1">Trout</option>
				<option value="2">Catfish</option>
				<option value="3">Tuna</option>
			</select>
			<label>Enter the number of fish caught:</label>
			<input type="number" name="consumption" placeholder="Consumption">
			<br>

			<!-- Apply js code here -->
			<div style="width: 500px" id="reader"></div>

			<label>Scan QR code to match to load enter fish's GUID:</label>
			<input type="submit" value="Scan QR Code">
			<input type="text" name="guid" placeholder="GUID">
			<br>

			<label>Enter the fishing location's latitude and longitude:</label>
			<input type="number" name="caughtLat" placeholder="Caught Lat">
			<input type="number" name="caughtLong" placeholder="Caught Long">
			<br>

			<input type="submit" value="Post">
		</form>
		</center>

		<br>

		<a href="{{node_address}}/mine" target="_blank"><button>Request to mine</button></a>
		<a href="/"><button>Resync</button></a>

		<div style="margin: 20px;">

		{% for post in posts %}
		<div class="post_box">
		   <div class="post_box-header">
			  <div class="name-header">{{post.guid}}</div>
			  <div class="name-header">{{post.speciesId}}</div>
			  <div class="name-header">{{post.caughtLat}}, {{post.caughtLong}}</div>
			  <div class="name-header">{{post.consumption}}</div>
			  <div class="post_box-subtitle"> Posted at <i>{{readable_time(post.timestamp)}}</i></div>
		   </div>
		</div>
		{% endfor %}

		<style>
			label {
				font-weight: bold;
				font-size: 14px;
				box
			}

            .post_box {
                background-color: rgb(160 222 255 / 80%);
                padding: 12px 0px 0px 12px;
                margin-top: 0px;
                margin-bottom: 8px;
                border-top: 1px solid #f0f0f0;
            }

            .post_box-header {
                padding-bottom: 12px;
            }

			.post_box-avatar {
				width: 38px;
				height: 38px;
				border-radius: 50%;
				display: flex;
				justify-content: center;
				align-items: center;
				color: white;
				font-size: 22px;
				float: left;
				margin-right: 16px;
				border: 1px solid #fff;
				box-shadow: 0px 0px 0px 2px #f00;
			}

			.post_box-avatar::after {
				content:"";
				display:block;
			}

			.post_box-name {
				font-weight: bold;
			}

			.post_box-subtitle {
				color: #777;
			}

			.post_box-body {
				margin-top: 16px;
				margin-bottom: 8px;
			}

			.post_box-options {
				float: right;
			}
			.option-btn {
				background: #f8f8f8;
				border: none;
				color: #2c3e50;
				padding: 7px;
				cursor: pointer;
				font-size: 14px;
				margin-left: 2px;
				margin-right: 2px;
				outline: none;
				height: 42px;
			}
		</style>
		</div>
	{% endblock %}
